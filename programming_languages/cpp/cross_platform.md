# Cross Platform

- [Cross Platform](#cross-platform)
  - [Compiler](#compiler)
    - [编译器的选择](#编译器的选择)
    - [编译警告](#编译警告)
    - [交叉编译](#交叉编译)
  - [Syntax](#syntax)
    - [标准未定义](#标准未定义)
    - [其他](#其他)
  - [Exception](#exception)
  - [Hardware](#hardware)
  - [Operating System](#operating-system)
    - [文件系统](#文件系统)
    - [回车换行](#回车换行)
    - [文件搜索路径](#文件搜索路径)
    - [环境变量](#环境变量)
    - [动态库](#动态库)
    - [服务/守护进程](#服务守护进程)
    - [默认栈大小](#默认栈大小)

## Compiler

### 编译器的选择

- GCC
- 本地编译器（即操作系统厂商提供的编译器）
  - Visual C++ (Windows)
  - CC (Solaris)

### 编译警告

- 调高编译器警告级别
- 小心对待编译警告信息

### 交叉编译

即在 A 平台编译出运行在 B 平台的二进制程序。一般选择 GCC。

## Syntax

### 标准未定义

- 不使用全局类对象，改用单键；
- 不依赖函数参数的求值顺序；
- 不定义参数类型相近的函数
- 不依赖标准类型的字长

### 其他

- 保持 inline 函数尽量简单

## Exception

- 处理异常：new 分配内存失败
- 慎用异常规格
- 不跨模块抛出异常
- 不使用结构化异常处理
- 不指望 catch 捕获非 C++ 异常

## Hardware

- 基本类型大小：使用 `sizeof()` 确定字节数；
- 字节序；
- 内存对齐；
- 移位操作：尽量少用。

## Operating System

### 文件系统

- 文件命名规范
- 尽量用流行的第三方库

### 回车换行

- Windows: `CRLF`
- Unix/Linux: `LF`
- macOS: `CR`

### 文件搜索路径

### 环境变量

### 动态库

- 动态库导出函数
- 符号表

### 服务/守护进程

### 默认栈大小

- 不在栈上定义大数组/大对象
