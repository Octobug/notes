# Certificate Authority

- [Certificate Authority](#certificate-authority)
  - [证书 (Public Key Certificate)](#证书-public-key-certificate)
  - [证书授权中心 (Certificate Authority)](#证书授权中心-certificate-authority)
    - [CA 证书](#ca-证书)
  - [证书之间的信任关系](#证书之间的信任关系)
    - [信任链](#信任链)
    - [根证书 (Root Certificate)](#根证书-root-certificate)
  - [证书的作用](#证书的作用)
    - [验证网站是否可信 (HTTPS)](#验证网站是否可信-https)
    - [验证某文件是否可信（是否被篡改）](#验证某文件是否可信是否被篡改)

## 证书 (Public Key Certificate)

用来证明事物 B 属于事物 A。

## 证书授权中心 (Certificate Authority)

它是负责管理和签发证书的第三方权威机构。一般来说，CA 必须是所有行业和所有公众都信任的、认可的。

### CA 证书

CA 证书即 CA 颁发的证书。由于 CA 机构的特殊性，CA 证书才具有相应的权威。

## 证书之间的信任关系

### 信任链

```txt
P 信任 A
A 认证 B 可信
B 认证 C 可信
==>
P 可以信任 C
```

### 根证书 (Root Certificate)

根证书即是“信任链”的源头，除了它，其他证书都要依赖上一层的证书。

根证书是整个证书体系安全的根本。
如果某个证书体系中根证书出了问题，那么所有被根证书信任的其他证书都会变得不可信。

## 证书的作用

### 验证网站是否可信 (HTTPS)

HTTPS 协议除了有加密机制，还有证书验证机制。
通过证书，HTTPS 可以校验所访问的域名对应的站点是不是真的。

当浏览器在访问某个 HTTPS 网站时，会验证该站点上的 CA 证书。
如果浏览器发现该证书没有问题，即：

1. 证书被某个根证书信任；
2. 证书上绑定的域名和该网站的域名一致；
3. 证书没有过期。

那么页面就直接打开。

否则，浏览器会给出一个警告，告知用户该网站的证书存在某某问题。

### 验证某文件是否可信（是否被篡改）

证书还可以用来验证某个文件是否被篡改。具体方式是通过证书制作文件的数字签名。

当一个文件带有数字签名，可以从该文件的属性中看到相关信息。

> - 某些数字签名中没有包含“邮件地址”，那么这一项会显示“不可用”；
> - 某些数字签名没有包含“时间戳”，也会显示“不可用”。
>
> 但这里显示的“不可用”跟数字签名的有效性没关系。
>
> Thawte Code Signing CA 是专门用来签名的证书
